<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Galex - Music Player</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        /* Reset and Base Styles */
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body,
        html {
            height: 100%;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
            color: #fff;
            overflow-x: hidden;
        }

        /* Main Layout */
        .main {
            display: flex;
            height: 100vh;
            gap: 10px;
            padding: 10px;
        }

        /* Sidebar */
        .left {
            width: 280px;
            background: rgba(25, 25, 35, 0.95);
            border-radius: 15px;
            padding: 25px 20px;
            display: flex;
            flex-direction: column;
            backdrop-filter: blur(10px);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
            border: 1px solid rgba(255, 255, 255, 0.1);
            min-width: 250px;
            z-index: 10;
        }

        .web-name {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 1px solid rgba(100, 149, 237, 0.3);
        }

        .web-name h1 {
            font-size: 36px;
            background: linear-gradient(45deg, #6495ed, #00ffff);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            font-weight: 800;
        }

        .web-name h2 {
            font-size: 24px;
            font-weight: 600;
            color: #fff;
        }

        .verify {
            width: 22px;
            height: 22px;
            display: none;
        }

        .loginbtn {
            margin-left: auto;
            padding: 8px 20px;
            background: linear-gradient(45deg, #6495ed, #4169e1);
            border: none;
            border-radius: 25px;
            color: white;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(100, 149, 237, 0.4);
            white-space: nowrap;
        }

        .logoutbtn {
            margin-left: auto;
            display: none;
            padding: 8px 20px;
            background: linear-gradient(45deg, #6495ed, #4169e1);
            border: none;
            border-radius: 25px;
            color: white;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(100, 149, 237, 0.4);
            white-space: nowrap;
        }

        .loginbtn:hover,
        .logoutbtn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(100, 149, 237, 0.6);
        }

        /* Menu */
        .menu {
            display: flex;
            flex-direction: column;
            gap: 12px;
            margin-top: 20px;
        }

        .menu button {
            padding: 15px 25px;
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            color: #fff;
            font-size: 16px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: left;
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .menu button:hover {
            background: rgba(100, 149, 237, 0.2);
            transform: translateX(5px);
            border-color: #6495ed;
        }

        .menu button i {
            width: 20px;
            text-align: center;
        }

        /* Account Panel */
        .account {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: rgba(30, 30, 46, 0.98);
            border-radius: 20px;
            padding: 40px;
            display: none;
            z-index: 1000;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
            border: 1px solid rgba(100, 149, 237, 0.3);
            backdrop-filter: blur(20px);
            max-width: 400px;
            width: 90%;
        }

        .account.show {
            display: block;
            animation: fadeIn 0.3s ease;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translate(-50%, -40%);
            }

            to {
                opacity: 1;
                transform: translate(-50%, -50%);
            }
        }

        .login,
        .signup {
            display: none;
        }

        .login.show,
        .signup.show {
            display: block;
        }

        .login h2,
        .signup h2 {
            margin-bottom: 30px;
            font-size: 28px;
            background: linear-gradient(45deg, #6495ed, #00ffff);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
        }

        label {
            display: block;
            margin: 15px 0 8px;
            color: #b0b0d0;
            font-size: 14px;
        }

        input {
            width: 100%;
            padding: 12px 20px;
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            color: #fff;
            font-size: 16px;
            transition: all 0.3s ease;
        }

        input:focus {
            outline: none;
            border-color: #6495ed;
            box-shadow: 0 0 0 3px rgba(100, 149, 237, 0.2);
        }

        .form-btn {
            width: 100%;
            padding: 14px;
            background: linear-gradient(45deg, #6495ed, #4169e1);
            border: none;
            border-radius: 10px;
            color: white;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            margin-top: 25px;
            transition: all 0.3s ease;
        }

        .form-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(100, 149, 237, 0.4);
        }

        .form-link {
            display: inline-block;
            margin-top: 20px;
            color: #6495ed;
            cursor: pointer;
            font-size: 14px;
            text-decoration: none;
            transition: all 0.3s ease;
        }

        .form-link:hover {
            text-decoration: underline;
            color: #00ffff;
        }

        /* Main Player Content */
        .mainplayer {
            flex: 1;
            background: rgba(25, 25, 35, 0.95);
            border-radius: 15px;
            display: flex;
            flex-direction: column;
            overflow: hidden;
            border: 1px solid rgba(255, 255, 255, 0.1);
            min-width: 0;
            margin-right: 320px;
            transition: margin-right 0.3s ease;
        }

        /* Player Sidebar */
        .player-container {
            position: fixed;
            top: 10px;
            right: 10px;
            bottom: 10px;
            width: 300px;
            background: rgba(20, 20, 30, 0.95);
            border-radius: 15px;
            padding: 25px;
            backdrop-filter: blur(20px);
            z-index: 5;
            display: flex;
            flex-direction: column;
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.4);
        }

        .player-container.hidden {
            display: none;
        }

        .player-header {
            margin-bottom: 25px;
            padding-bottom: 15px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .player-header h3 {
            font-size: 20px;
            font-weight: 600;
            background: linear-gradient(45deg, #6495ed, #00ffff);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .player-header h3 i {
            font-size: 18px;
        }

        .player-content {
            flex: 1;
            display: flex;
            flex-direction: column;
        }

        .player-cover-container {
            text-align: center;
            margin-bottom: 25px;
        }

        .player-cover {
            width: 200px;
            height: 200px;
            border-radius: 15px;
            object-fit: cover;
            box-shadow: 0 12px 40px rgba(0, 0, 0, 0.5);
            margin: 0 auto;
            transition: transform 0.3s ease;
        }

        .player-cover.playing {
            animation: rotateAlbumArt 20s linear infinite;
        }

        @keyframes rotateAlbumArt {
            0% {
                transform: rotate(0deg);
            }

            100% {
                transform: rotate(360deg);
            }
        }

        .player-info {
            margin-bottom: 25px;
        }

        .player-title {
            font-size: 22px;
            font-weight: 600;
            margin-bottom: 8px;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
            text-align: center;
        }

        .player-artist {
            font-size: 16px;
            color: #b0b0d0;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
            text-align: center;
        }

        .player-controls {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .control-buttons {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 15px;
            margin-bottom: 20px;
        }

        .control-btn {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: rgba(100, 149, 237, 0.2);
            border: 1px solid rgba(100, 149, 237, 0.3);
            color: #6495ed;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
            font-size: 20px;
        }

        .control-btn:hover {
            background: rgba(100, 149, 237, 0.3);
            transform: scale(1.1);
        }

        .control-btn.play {
            width: 70px;
            height: 70px;
            background: linear-gradient(45deg, #6495ed, #4169e1);
            color: white;
            font-size: 24px;
        }

        .control-btn.play:hover {
            transform: scale(1.15);
            box-shadow: 0 8px 25px rgba(100, 149, 237, 0.4);
        }

        .extra-controls {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 25px;
            margin-bottom: 20px;
        }

        .repeat-btn,
        .shuffle-btn {
            background: none;
            border: none;
            color: #b0b0d0;
            cursor: pointer;
            font-size: 20px;
            transition: all 0.3s ease;
            padding: 5px;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .repeat-btn:hover,
        .shuffle-btn:hover {
            background: rgba(100, 149, 237, 0.1);
        }

        .repeat-btn.active,
        .shuffle-btn.active {
            color: #6495ed;
            background: rgba(100, 149, 237, 0.2);
        }

        .progress-container {
            margin-bottom: 20px;
        }

        .progress-bar {
            width: 100%;
            height: 6px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 3px;
            overflow: hidden;
            margin-bottom: 8px;
            cursor: pointer;
        }

        .progress {
            width: 0%;
            height: 100%;
            background: linear-gradient(90deg, #6495ed, #00ffff);
            border-radius: 3px;
            transition: width 0.1s linear;
        }

        .time-display {
            display: flex;
            justify-content: space-between;
            font-size: 12px;
            color: #b0b0d0;
        }

        .volume-control {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .volume-icon {
            color: #b0b0d0;
            font-size: 20px;
        }

        .volume-slider {
            flex: 1;
            height: 4px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 2px;
            cursor: pointer;
            overflow: hidden;
        }

        .volume-progress {
            width: 70%;
            height: 100%;
            background: linear-gradient(90deg, #6495ed, #00ffff);
            border-radius: 2px;
        }

        .player-queue {
            margin-top: 25px;
            padding-top: 20px;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
        }

        .queue-title {
            font-size: 16px;
            font-weight: 600;
            margin-bottom: 15px;
            color: #b0b0d0;
        }

        .queue-list {
            list-style: none;
            max-height: 150px;
            overflow-y: auto;
        }

        .queue-item {
            padding: 10px;
            display: flex;
            align-items: center;
            gap: 12px;
            cursor: pointer;
            border-radius: 8px;
            transition: all 0.3s ease;
            margin-bottom: 5px;
        }

        .queue-item:hover {
            background: rgba(100, 149, 237, 0.1);
        }

        .queue-item.active {
            background: rgba(100, 149, 237, 0.2);
        }

        .queue-item-cover {
            width: 40px;
            height: 40px;
            border-radius: 6px;
            object-fit: cover;
        }

        .queue-item-info {
            flex: 1;
            min-width: 0;
        }

        .queue-item-title {
            font-size: 14px;
            font-weight: 500;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .queue-item-artist {
            font-size: 12px;
            color: #b0b0d0;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        /* Navigation */
        .nav {
            padding: 20px 30px;
            background: rgba(30, 30, 46, 0.8);
            display: flex;
            align-items: center;
            gap: 20px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            position: relative;
        }

        .nav input[type="search"] {
            flex: 1;
            max-width: 400px;
            padding: 12px 25px;
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 25px;
            color: #fff;
            font-size: 16px;
        }

        .nav input[type="search"]::placeholder {
            color: rgba(255, 255, 255, 0.5);
        }

        /* Search Results */
        .search-results {
            position: absolute;
            top: 100%;
            left: 0;
            right: 0;
            background: rgba(30, 30, 46, 0.95);
            border-radius: 0 0 15px 15px;
            padding: 10px 0;
            display: none;
            z-index: 100;
            max-height: 400px;
            overflow-y: auto;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            margin-top: 1px;
        }

        .search-results.active {
            display: block;
        }

        .search-result-item {
            padding: 15px 25px;
            display: flex;
            align-items: center;
            gap: 15px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .search-result-item:hover {
            background: rgba(100, 149, 237, 0.1);
        }

        /* Back Button */
        .back {
            padding: 10px 20px;
            background: rgba(100, 149, 237, 0.2);
            border: 1px solid rgba(100, 149, 237, 0.3);
            border-radius: 10px;
            color: #6495ed;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 16px;
            transition: all 0.3s ease;
            white-space: nowrap;
        }

        .back:hover {
            background: rgba(100, 149, 237, 0.3);
            transform: translateX(-3px);
        }

        .back i {
            font-size: 18px;
        }

        /* Content Area */
        .content-area {
            flex: 1;
            overflow-y: auto;
            padding: 30px;
        }

        .section-title {
            font-size: 32px;
            margin-bottom: 30px;
            background: linear-gradient(45deg, #6495ed, #00ffff);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            font-weight: 700;
        }

        /* Artist Grid */
        .artistcontainer {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 25px;
            margin-top: 20px;
        }

        .artist-card {
            position: relative;
            height: 300px;
            border-radius: 15px;
            overflow: hidden;
            cursor: pointer;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            background: linear-gradient(135deg, rgba(30, 30, 46, 0.8), rgba(25, 25, 35, 0.9));
        }

        .artist-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(to bottom, transparent 60%, rgba(0, 0, 0, 0.8));
            z-index: 1;
        }

        .artist-card:hover {
            transform: translateY(-10px) scale(1.02);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.5);
        }

        .artist-image {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.6s ease;
        }

        .artist-card:hover .artist-image {
            transform: scale(1.1);
        }

        .artist-name {
            position: absolute;
            bottom: 20px;
            left: 20px;
            z-index: 2;
            font-size: 24px;
            font-weight: 600;
            color: white;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
        }

        /* Songs List */
        .songs-container {
            display: none;
            animation: fadeInUp 0.4s ease;
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .songs-container.active {
            display: block;
        }

        .song-list {
            list-style: none;
        }

        .song-item {
            display: flex;
            align-items: center;
            gap: 20px;
            padding: 20px;
            margin-bottom: 15px;
            background: rgba(255, 255, 255, 0.03);
            border-radius: 12px;
            border: 1px solid rgba(255, 255, 255, 0.05);
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
        }

        .song-item:hover {
            background: rgba(100, 149, 237, 0.15);
            transform: translateX(10px);
            border-color: rgba(100, 149, 237, 0.3);
        }

        .song-item.active {
            background: rgba(100, 149, 237, 0.25);
            border-color: #6495ed;
        }

        .song-number {
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: rgba(100, 149, 237, 0.2);
            border-radius: 10px;
            font-weight: 600;
            color: #6495ed;
        }

        .song-cover {
            width: 60px;
            height: 60px;
            border-radius: 10px;
            object-fit: cover;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
        }

        .song-info {
            flex: 1;
            min-width: 0;
        }

        .song-title {
            font-size: 18px;
            font-weight: 600;
            margin-bottom: 5px;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .song-details {
            font-size: 14px;
            color: #b0b0d0;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        /* Like Button */
        .like-btn {
            background: none;
            border: none;
            font-size: 24px;
            cursor: pointer;
            padding: 5px;
            color: #666;
            transition: all 0.3s ease;
            position: absolute;
            right: 20px;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
        }

        .like-btn:hover {
            transform: scale(1.2);
            background: rgba(255, 255, 255, 0.1);
        }

        .like-btn.liked {
            color: #ff3366;
            animation: pulse 0.3s ease;
        }

        @keyframes pulse {
            0% {
                transform: scale(1);
            }

            50% {
                transform: scale(1.3);
            }

            100% {
                transform: scale(1);
            }
        }

        /* Liked Songs Page */
        .liked-songs-container {
            display: none;
        }

        .liked-songs-container.active {
            display: block;
        }

        .empty-liked {
            text-align: center;
            padding: 60px 20px;
            color: #b0b0d0;
            font-size: 18px;
        }

        .empty-liked h3 {
            margin-bottom: 10px;
            color: #6495ed;
            font-size: 24px;
        }

        /* Loading Indicator */
        .loading {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid rgba(100, 149, 237, 0.3);
            border-radius: 50%;
            border-top-color: #6495ed;
            animation: spin 1s ease-in-out infinite;
        }

        @keyframes spin {
            to {
                transform: rotate(360deg);
            }
        }

        /* Notification */
        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            background: rgba(30, 30, 46, 0.95);
            padding: 15px 25px;
            border-radius: 10px;
            border-left: 4px solid #6495ed;
            display: none;
            z-index: 1001;
            backdrop-filter: blur(10px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
        }

        .notification.show {
            display: block;
            animation: slideIn 0.3s ease;
        }

        @keyframes slideIn {
            from {
                transform: translateX(100%);
                opacity: 0;
            }

            to {
                transform: translateX(0);
                opacity: 1;
            }
        }

        /* Error State */
        .error-state {
            text-align: center;
            padding: 20px;
            color: #ff6b6b;
            background: rgba(255, 107, 107, 0.1);
            border-radius: 10px;
            margin: 10px 0;
        }

        /* Scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
        }

        ::-webkit-scrollbar-track {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 4px;
        }

        ::-webkit-scrollbar-thumb {
            background: linear-gradient(45deg, #6495ed, #00ffff);
            border-radius: 4px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: linear-gradient(45deg, #4169e1, #00cccc);
        }

        /* Mobile Responsiveness */
        @media (max-width: 1200px) {
            .player-container {
                position: fixed;
                bottom: 0;
                left: 0;
                right: 0;
                top: auto;
                width: 100%;
                height: 120px;
                flex-direction: row;
                align-items: center;
                padding: 15px;
            }

            .player-content {
                flex-direction: row;
                align-items: center;
                gap: 20px;
                width: 100%;
            }

            .player-cover-container {
                margin-bottom: 0;
                flex-shrink: 0;
            }

            .player-cover {
                width: 80px;
                height: 80px;
            }

            .player-info {
                margin-bottom: 0;
                min-width: 200px;
            }

            .player-title,
            .player-artist {
                text-align: left;
            }

            .player-controls {
                flex-direction: row;
                flex: 1;
                justify-content: space-between;
                align-items: center;
            }

            .control-buttons {
                margin-bottom: 0;
                order: 2;
            }

            .extra-controls {
                order: 1;
                margin-bottom: 0;
            }

            .progress-container {
                order: 3;
                flex: 1;
                max-width: 300px;
            }

            .volume-control {
                order: 4;
                width: 150px;
            }

            .player-queue {
                display: none;
            }

            .mainplayer {
                margin-right: 0;
                margin-bottom: 140px;
            }
        }

        @media (max-width: 768px) {
            .main {
                flex-direction: column;
                height: auto;
                min-height: 100vh;
            }

            .left {
                width: 100%;
                padding: 15px;
                position: sticky;
                top: 0;
                z-index: 100;
            }

            .artistcontainer {
                grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
            }

            .artist-card {
                height: 200px;
            }

            .player-info {
                min-width: 150px;
            }

            .progress-container {
                display: none;
            }

            .control-btn {
                width: 45px;
                height: 45px;
            }

            .control-btn.play {
                width: 60px;
                height: 60px;
            }
        }

        @media (max-width: 480px) {
            .nav {
                padding: 15px;
                flex-wrap: wrap;
            }

            .content-area {
                padding: 15px;
            }

            .section-title {
                font-size: 24px;
            }

            .song-item {
                padding: 15px;
            }

            .song-cover {
                width: 50px;
                height: 50px;
            }

            .player-content {
                gap: 15px;
            }

            .player-cover {
                width: 60px;
                height: 60px;
            }

            .control-btn.play {
                width: 50px;
                height: 50px;
            }

            .volume-control {
                width: 100px;
            }
        }
    </style>
</head>

<body>
    <div class="main">
        <!-- Left Sidebar -->
        <div class="left">
            <div class="web-name">
                <h1>G</h1>
                <h2 id="galexText">Galex</h2>
                <img id="verifyIcon" class="verify" src="https://cdn-icons-png.flaticon.com/512/8458/8458434.png"
                    alt="Verified">
                <button class="loginbtn" id="loginBtn">Login</button>
                <button class="logoutbtn" id="logoutBtn">Logout</button>
            </div>
            <div class="menu">
                <button class="homebtn" id="homebtn">
                    <i class="fas fa-home"></i> Home
                </button>
                <button class="likedplaylistbtn" id="likedplaylistbtn">
                    <i class="fas fa-heart"></i> Liked Songs
                </button>
                <button class="playlistbtn" id="playlistbtn">
                    <i class="fas fa-folder"></i> Playlists
                </button>
                <button class="settingsbtn" id="settingsbtn">
                    <i class="fas fa-cog"></i> Settings
                </button>
                <button class="aboutbtn" id="aboutbtn">
                    <i class="fas fa-info-circle"></i> About
                </button>
            </div>
        </div>

        <!-- Account Modal -->
        <div class="account" id="account">
            <div class="login" id="login">
                <h2>Welcome Back</h2>
                <label>Email</label>
                <input type="email" id="loginEmail" placeholder="Enter your email">
                <label>Password</label>
                <input type="password" id="loginPassword" placeholder="Enter your password">
                <span class="form-link" id="showSignup">Create an account</span>
                <button class="form-btn" id="loginSubmit">Login</button>
            </div>

            <div class="signup" id="signup">
                <h2>Join Galex</h2>
                <label>Username</label>
                <input type="text" id="signupUsername" placeholder="Choose a username">
                <label>Email</label>
                <input type="email" id="signupEmail" placeholder="Enter your email">
                <label>Password</label>
                <input type="password" id="signupPassword" placeholder="Create a password">
                <span class="form-link" id="showLogin">Already have an account?</span>
                <button class="form-btn" id="signupSubmit">Sign Up</button>
            </div>
        </div>

        <!-- Main Player Content -->
        <div class="mainplayer" id="mainplayer">
            <!-- Navigation -->
            <div class="nav">
                <button class="back" id="back" style="display: none;">
                    <i class="fas fa-arrow-left"></i> Back
                </button>
                <input type="search" id="searchInput" placeholder="Search artists, songs, albums...">
                <div class="search-results" id="searchResults">
                    <!-- Search results will be populated here -->
                </div>
            </div>

            <!-- Content Area -->
            <div class="content-area">
                <h2 class="section-title" id="currentSection">Featured Artists</h2>

                <!-- Artists Grid -->
                <div class="artistcontainer" id="artistcontainer">
                    <div class="artist-card" id="hiphopadhi">
                        <img src="https://i.pinimg.com/736x/08/bf/f9/08bff9f28c2739618c7837e8f8f183f2.jpg"
                            alt="Hiphop Adhi" class="artist-image">
                        <div class="artist-name">Hiphop Adhi</div>
                    </div>
                    <div class="artist-card" id="GVPrakash">
                        <img src="https://i.pinimg.com/1200x/88/80/85/888085e606b2303f49c1e0fc464b06ff.jpg"
                            alt="GV Prakash" class="artist-image">
                        <div class="artist-name">GV Prakash</div>
                    </div>
                    <div class="artist-card" id="vijayantony">
                        <img src="https://i.pinimg.com/736x/e2/e9/b5/e2e9b54e371b7bc861e40789bf6b7720.jpg"
                            alt="Vijay Antony" class="artist-image">
                        <div class="artist-name">Vijay Antony</div>
                    </div>
                    <div class="artist-card" id="Deva">
                        <img src="https://i.pinimg.com/736x/78/cc/2a/78cc2aafdc511092ce06cc3a37cdc074.jpg" alt="Deva"
                            class="artist-image">
                        <div class="artist-name">Deva</div>
                    </div>
                </div>

                <!-- Liked Songs Container -->
                <div class="liked-songs-container" id="likedSongsContainer">
                    <div class="empty-liked" id="emptyLiked">
                        <h3>No liked songs yet</h3>
                        <p>Start liking songs to see them here!</p>
                    </div>
                    <ol class="song-list" id="likedSongsList">
                        <!-- Liked songs will be populated here -->
                    </ol>
                </div>

                <!-- Songs Lists -->
                <div class="songs-container" id="hiphopadhisongs">
                    <ol class="song-list">
                        <!-- Songs will be populated by JavaScript -->
                    </ol>
                </div>

                <div class="songs-container" id="GVPrakashsongs">
                    <ol class="song-list">
                        <!-- Songs will be populated by JavaScript -->
                    </ol>
                </div>

                <div class="songs-container" id="vijayantonysongs">
                    <ol class="song-list">
                        <!-- Songs will be populated by JavaScript -->
                    </ol>
                </div>

                <div class="songs-container" id="Devasongs">
                    <ol class="song-list">
                        <!-- Songs will be populated by JavaScript -->
                    </ol>
                </div>
            </div>
        </div>

        <!-- Right Side Player Sidebar -->
        <div class="player-container hidden" id="playerContainer">
            <div class="player-header">
                <h3><i class="fas fa-music"></i> Now Playing</h3>
            </div>

            <div class="player-content">
                <div class="player-cover-container">
                    <img id="playerCover" src="https://i.pinimg.com/1200x/88/80/85/888085e606b2303f49c1e0fc464b06ff.jpg"
                        alt="Album Cover" class="player-cover">
                </div>

                <div class="player-info">
                    <div class="player-title" id="playerTitle">Not Playing</div>
                    <div class="player-artist" id="playerArtist">Select a song to start</div>
                </div>

                <div class="player-controls">
                    <div class="control-buttons">
                        <button class="repeat-btn" id="repeatBtn" title="Repeat">
                            <i class="fas fa-redo"></i>
                        </button>
                        <button class="control-btn prev-btn" title="Previous">
                            <i class="fas fa-step-backward"></i>
                        </button>
                        <button class="control-btn play-btn" title="Play">
                            <i class="fas fa-play"></i>
                        </button>
                        <button class="control-btn next-btn" title="Next">
                            <i class="fas fa-step-forward"></i>
                        </button>
                        <button class="shuffle-btn" id="shuffleBtn" title="Shuffle">
                            <i class="fas fa-random"></i>
                        </button>
                    </div>

                    <div class="extra-controls">
                        <div class="progress-container">
                            <div class="progress-bar" id="progressBar">
                                <div class="progress" id="progress"></div>
                            </div>
                            <div class="time-display">
                                <span id="currentTime">0:00</span>
                                <span id="duration">0:00</span>
                            </div>
                        </div>
                    </div>

                    <div class="volume-control">
                        <span class="volume-icon" id="volumeIcon">
                            <i class="fas fa-volume-up"></i>
                        </span>
                        <div class="volume-slider" id="volumeSlider">
                            <div class="volume-progress" id="volumeProgress"></div>
                        </div>
                    </div>
                </div>

                <div class="player-queue">
                    <div class="queue-title">Up Next</div>
                    <ul class="queue-list" id="queueList">
                        <!-- Queue items will be populated here -->
                    </ul>
                </div>
            </div>
        </div>

        <!-- Notification -->
        <div class="notification" id="notification">
            <span id="notificationText"></span>
        </div>
    </div>

    <!-- Hidden Audio Element -->
    <audio id="audioPlayer"></audio>

    <script>
        // DOM Elements
        const account = document.getElementById('account');
        const loginBtn = document.getElementById('loginBtn');
        const logoutBtn = document.getElementById('logoutBtn');
        const loginDiv = document.getElementById('login');
        const signupDiv = document.getElementById('signup');
        const galexText = document.getElementById('galexText');
        const verifyIcon = document.getElementById('verifyIcon');
        const mainplayer = document.getElementById('mainplayer');
        const backBtn = document.getElementById('back');
        const artistContainer = document.getElementById('artistcontainer');
        const playerContainer = document.getElementById('playerContainer');
        const audioPlayer = document.getElementById('audioPlayer');
        const likedSongsContainer = document.getElementById('likedSongsContainer');
        const likedSongsList = document.getElementById('likedSongsList');
        const emptyLiked = document.getElementById('emptyLiked');
        const likedPlaylistBtn = document.getElementById('likedplaylistbtn');
        const homeBtn = document.getElementById('homebtn');
        const searchInput = document.getElementById('searchInput');
        const searchResults = document.getElementById('searchResults');
        const notification = document.getElementById('notification');
        const notificationText = document.getElementById('notificationText');
        const repeatBtn = document.getElementById('repeatBtn');
        const shuffleBtn = document.getElementById('shuffleBtn');
        const volumeIcon = document.getElementById('volumeIcon');
        const queueList = document.getElementById('queueList');

        // Sample songs data with corrected audio paths
        const songsData = {
                'GVPrakash': [
                    {
                        title: 'Pookkal Pookkum',
                        artist: 'GV Prakash Kumar',
                        album: 'Madharasa pattinam',
                        duration: '4:32',
                        cover: 'https://i.pinimg.com/736x/31/5a/95/315a950f69864de18a94e91315921eb2.jpg',
                        audio: 'songs/Pookkal Pookkum - G. V. Prakash, Roop Kumar Rathod, Harini, Andrea Jeremiah.mp3'
                    },
                    {
                        title: 'Engeyum Eppothum',
                        artist: 'GV Prakash Kumar',
                        album: 'Darling',
                        duration: '3:45',
                        cover: 'https://i.pinimg.com/736x/31/5a/95/315a950f69864de18a94e91315921eb2.jpg',
                        audio: 'songs/Engeyum Eppothum - From  Polladhavan  - G. V. Prakash Kumar, Yogi. B, Kaviyarasu Kannadasan, Yugabharathi, S. P. Balasubrahmanyam, Sunitha Sarathy.mp3'
                    },
                    {
                        title: 'Kutti Pisase',
                        artist: 'GV Prakash Kumar',
                        album: 'Silambattam',
                        duration: '3:58',
                        cover: 'https://i.pinimg.com/736x/31/5a/95/315a950f69864de18a94e91315921eb2.jpg',
                        audio: 'songs/Kutti Pisase - G. V. Prakash, Silambarasan TR, Suchitra.mp3'
                    },
                    {
                        title: 'Un Mela Aasadhaan',
                        artist: 'GV Prakash Kumar',
                        album: 'Aadukalam',
                        duration: '4:20',
                        cover: 'https://i.pinimg.com/736x/31/5a/95/315a950f69864de18a94e91315921eb2.jpg',
                        audio: 'songs/Un Mela Aasadhaan - G. V. Prakash, Dhanush, Aishwarya R Dhanush, Andrea Jeremiah.m4a'
                    },
                    {
                        title: 'Ayyayo',
                        artist: 'GV Prakash Kumar',
                        album: 'Aadukalam',
                        duration: '4:05',
                        cover: 'https://i.pinimg.com/736x/31/5a/95/315a950f69864de18a94e91315921eb2.jpg',
                        audio: 'songs/Ayyayo - G. V. Prakash, S. P. Balasubrahmanyam, S.P. Charan, Prashanthini.mp3'
                    },
                    {
                        title: 'Golden Sparrow',
                        artist: 'GV Prakash Kumar',
                        album: 'Nilavuku En Mel Ennadi Kobam',
                        duration: '3:50',
                        cover: 'https://i.pinimg.com/736x/31/5a/95/315a950f69864de18a94e91315921eb2.jpg',
                        audio: 'songs/Golden Sparrow (From  Nilavuku En Mel Ennadi Kobam ) - G. V. Prakash, Arivu, Dhanush, Sublahshini.mp3'
                    },
                    {
                        title: 'Hey Minnale',
                        artist: 'GV Prakash Kumar',
                        album: 'Amaran',
                        duration: '4:12',
                        cover: 'https://i.pinimg.com/736x/31/5a/95/315a950f69864de18a94e91315921eb2.jpg',
                        audio: 'songs/Hey Minnale (From  Amaran ) (Tamil) - G. V. Prakash, Haricharan, Shweta Mohan, Karthik Netha.mp3'
                    },
                    {
                        title: 'Kuchi Kuchi Rakkamma',
                        artist: 'GV Prakash Kumar',
                        album: 'boombey',
                        duration: '4:25',
                        cover: 'https://i.pinimg.com/736x/31/5a/95/315a950f69864de18a94e91315921eb2.jpg',
                        audio: 'songs/Kuchi Kuchi Rakkamma - Hariharan, Swarnalatha, G. V. Prakash, Sharadha.mp3'
                    },
                    {
                        title: 'Manasellam Mazhaiye',
                        artist: 'GV Prakash Kumar',
                        album: 'Veyil',
                        duration: '5:00',
                        cover: 'https://i.pinimg.com/736x/31/5a/95/315a950f69864de18a94e91315921eb2.jpg',
                        audio: 'songs/Manasellam Mazhaiye - Sonu Nigam, Saindhavi, G. V. Prakash.mp3'
                    },
                    {
                        title: 'Minikki Minikki',
                        artist: 'GV Prakash Kumar',
                        album: 'Thangalaan',
                        duration: '3:40',
                        cover: 'https://i.pinimg.com/736x/31/5a/95/315a950f69864de18a94e91315921eb2.jpg',
                        audio: 'songs/Minikki Minikki (From  Thangalaan ) - Tamil - G. V. Prakash, Sinduri Vishal, Uma Devi.mp3'
                    },
                    {
                        title: 'Otha Sollaala',
                        artist: 'GV Prakash Kumar',
                        album: 'Aadukalam',
                        duration: '4:10',
                        cover: 'https://i.pinimg.com/736x/31/5a/95/315a950f69864de18a94e91315921eb2.jpg',
                        audio: 'songs/Otha Sollaala - G. V. Prakash, Velmurugan.mp3'
                    },
                    {
                        title: 'Padichi Parthen',
                        artist: 'GV Prakash Kumar',
                        album: 'Polladhavan',
                        duration: '3:55',
                        cover: 'https://i.pinimg.com/736x/31/5a/95/315a950f69864de18a94e91315921eb2.jpg',
                        audio: 'songs/Padichi Parthen - From  Polladhavan  - Kabilan, G. V. Prakash, Shankar Mahadevan.mp3'
                    },
                    {
                        title: 'Un Mela Aasadhaan',
                        artist: 'GV Prakash Kumar',
                        album: 'arerathil Oruvan',
                        duration: '4:20',
                        cover: 'https://i.pinimg.com/736x/31/5a/95/315a950f69864de18a94e91315921eb2.jpg',
                        audio: 'songs/Un Mela Aasadhaan - G. V. Prakash, Dhanush, Aishwarya R Dhanush, Andrea Jeremiah.mp3'
                    },
                    {
                        title: 'Vaa Vaathi',
                        artist: 'GV Prakash Kumar',
                        album: 'Vaathi',
                        duration: '3:50',
                        cover: 'https://i.pinimg.com/736x/31/5a/95/315a950f69864de18a94e91315921eb2.jpg',
                        audio: 'songs/Vaa Vaathi - G. V. Prakash, Shweta Mohan.mp3'
                    },
                ],
                'hiphopadhi': [
                    {
                        title: 'Chennai City Gangstar',
                        artist: 'Hiphop Adhi',
                        album: 'Vanakkam Chennai',
                        duration: '3:45',
                        cover: 'https://i.pinimg.com/736x/2c/b9/b3/2cb9b33c1ac4f9631f540cc55e26d7f0.jpg',
                        audio: 'songs/Chennai City Gangsta - Anirudh Ravichander, Hard Kaur, Hiphop Tamizha, Country Chicken.mp3'
                    },
                    {
                        title: 'Breakup Song',
                        artist: 'Hiphop Adhi',
                        album: 'Misaiya Murukku',
                        duration: '4:10',
                        cover: 'https://i.pinimg.com/736x/2c/b9/b3/2cb9b33c1ac4f9631f540cc55e26d7f0.jpg',
                        audio: 'songs/Breakup Song - From  Naan Sirithal  - Hiphop Tamizha.mp3'
                    },
                    {
                        title: 'Boombastic',
                        artist: 'Hiphop Adhi',
                        album: 'Kadaisi Ulaga Por',
                        duration: '3:55',
                        cover: 'https://i.pinimg.com/736x/2c/b9/b3/2cb9b33c1ac4f9631f540cc55e26d7f0.jpg',
                        audio: 'songs/Boombastic - From  Kadaisi Ulaga Por  - Hiphop Tamizha, Chinna Ponnu, Rajan Chelliah.mp3'
                    },
                    {
                        title: 'Vaadi Pulla Vaadi',
                        artist: 'Hiphop Adhi',
                        album: 'Meesaya Murukku',
                        duration: '4:05',
                        cover: 'https://i.pinimg.com/736x/2c/b9/b3/2cb9b33c1ac4f9631f540cc55e26d7f0.jpg',
                        audio: 'songs/Vaadi Pulla Vaadi - Hiphop Tamizha.mp3'
                    }
                ],
                'vijayantony': [
                    {
                        title: 'Naaka Mukka',
                        artist: 'Vijay Antony',
                        album: 'Kadhalil Vizhunthen',
                        duration: '4:15',
                        cover: 'https://i.pinimg.com/736x/e2/e9/b5/e2e9b54e371b7bc861e40789bf6b7720.jpg',
                        audio: 'https://assets.mixkit.co/music/preview/mixkit-game-show-suspense-waiting-667.mp3'
                    },
                    {
                        title: 'Yamma Yamma',
                        artist: 'Vijay Antony',
                        album: 'Saithan',
                        duration: '3:30',
                        cover: 'https://i.pinimg.com/736x/e2/e9/b5/e2e9b54e371b7bc861e40789bf6b7720.jpg',
                        audio: 'https://assets.mixkit.co/music/preview/mixkit-drum-and-bass-intro-229.mp3'
                    }
                ],
                'Deva': [
                    {
                        title: 'Aadiyae Attam Enna',
                        artist: 'Deva',
                        album: 'Aadiyae Attam Enna',
                        duration: '4:00',
                        cover: 'https://i.pinimg.com/736x/e1/d8/37/e1d837f583ddc85852f262b90648cb4b.jpg',
                        audio: 'songs/Deva/Aadiyae-Attam-Enna-MassTamilan.fm.mp3'
                    },
                    {
                        title: 'Aaha Yehi Hai II',
                        artist: 'Deva',
                        album: 'Aaha Yehi Hai II',
                        duration: '3:45',
                        cover: 'https://i.pinimg.com/736x/e1/d8/37/e1d837f583ddc85852f262b90648cb4b.jpg',
                        audio: 'songs/Deva/Aaha-Yehi-Hai-II-MassTamilan.com.mp3'
                    },
                    {
                        title: 'Aasaiyil Oor Kaditham',
                        artist: 'Deva',
                        album: 'Aasaiyil Oor Kaditham',
                        duration: '4:20',
                        cover: 'https://i.pinimg.com/736x/e1/d8/37/e1d837f583ddc85852f262b90648cb4b.jpg',
                        audio: 'songs/Deva/Aasaiyil-Oor-Kaditham-MassTamilan.com.mp3'
                    },
                    {
                        title: 'Adiye Flowere (I)',
                        artist: 'Deva',
                        album: 'Adiye Flowere (I)',
                        duration: '3:50',
                        cover: 'https://i.pinimg.com/736x/e1/d8/37/e1d837f583ddc85852f262b90648cb4b.jpg',
                        audio: 'songs/Deva/Adiye-Flowere-(I)-MassTamilan.com.mp3'
                    },
                    {
                        title: 'Alli Alli',
                        artist: 'Deva',
                        album: 'Alli Alli',
                        duration: '4:10',
                        cover: 'https://i.pinimg.com/736x/e1/d8/37/e1d837f583ddc85852f262b90648cb4b.jpg',
                        audio: 'songs/Deva/Alli-Alli.mp3'
                    },
                    {
                        title: 'Anju Pathu Kadanai',
                        artist: 'Deva',
                        album: 'Anju Pathu Kadanai',
                        duration: '3:55',
                        cover: 'https://i.pinimg.com/736x/e1/d8/37/e1d837f583ddc85852f262b90648cb4b.jpg',
                        audio: 'songs/Deva/Anju-Pathu-Kadanai-MassTamilan.com.mp3'
                    },
                    {
                        title: 'Annamalai Annamalai',
                        artist: 'Deva',
                        album: 'Annamalai Annamalai',
                        duration: '4:25',
                        cover: 'https://i.pinimg.com/736x/e1/d8/37/e1d837f583ddc85852f262b90648cb4b.jpg',
                        audio: 'songs/Deva/Annamalai-Annamalai.mp3'
                    },
                    {
                        title: 'Arumugam',
                        artist: 'Deva',
                        album: 'Arumugam',
                        duration: '4:15',
                        cover: 'https://i.pinimg.com/736x/e1/d8/37/e1d837f583ddc85852f262b90648cb4b.jpg',
                        audio: 'songs/Deva/Arumugam-MassTamilan.io.mp3'
                    },
                    {
                        title: 'Athanda Ithanda',
                        artist: 'Deva',
                        album: 'Athanda Ithanda',
                        duration: '4:05',
                        cover: 'https://i.pinimg.com/736x/e1/d8/37/e1d837f583ddc85852f262b90648cb4b.jpg',
                        audio: 'songs/Deva/Athanda-Ithanda.mp3'
                    },
                    {
                        title: 'Australia',
                        artist: 'Deva',
                        album: 'Australia',
                        duration: '3:35',
                        cover: 'https://i.pinimg.com/736x/e1/d8/37/e1d837f583ddc85852f262b90648cb4b.jpg',
                        audio: 'songs/Deva/Australia.mp3'
                    },
                    {
                        title: 'Azhage Bhramanidam',
                        artist: 'Deva',
                        album: 'Azhage Bhramanidam',
                        duration: '4:00',
                        cover: 'https://i.pinimg.com/736x/e1/d8/37/e1d837f583ddc85852f262b90648cb4b.jpg',
                        audio: 'songs/Deva/Azhage-Bhramanidam.mp3'
                    },
                    {
                        title: 'Azhagu Azhagu Nee',
                        artist: 'Deva',
                        album: 'Azhagu Azhagu Nee',
                        duration: '4:20',
                        cover: 'https://i.pinimg.com/736x/e1/d8/37/e1d837f583ddc85852f262b90648cb4b.jpg',
                        audio: 'songs/Deva/Azhagu-Azhagu-Nee.mp3',
                    },
                    {
                        title: 'Baatcha Paaru',
                        artist: 'Deva',
                        album: 'Baatcha Paaru',
                        duration: '3:50',
                        cover: 'https://i.pinimg.com/736x/e1/d8/37/e1d837f583ddc85852f262b90648cb4b.jpg',
                        audio: 'songs/Deva/Baatcha-Paaru.mp3',
                    },
                    {
                        title: 'Chinnanchiru Poove',
                        artist: 'Deva',
                        album: 'Chinnanchiru Poove',
                        duration: '4:10',
                        cover: 'https://i.pinimg.com/736x/e1/d8/37/e1d837f583ddc85852f262b90648cb4b.jpg',
                        audio: 'songs/Deva/Chinnanchiru-Poove-MassTamilan.fm.mp3'
                    },
                    {
                        title: 'Chitraiyae Adi Chitraiyae',
                        artist: 'Deva',
                        album: 'Chitraiyae Adi Chitraiyae',
                        duration: '4:30',
                        cover: 'https://i.pinimg.com/736x/e1/d8/37/e1d837f583ddc85852f262b90648cb4b.jpg',
                        audio: 'songs/Deva/Chitraiyae-Adi-Chitraiyae-MassTamilan.fm.mp3'
                    },
                    {
                        title: 'Ele Elanguyile',
                        artist: 'Deva',
                        album: 'Ele Elanguyile',
                        duration: '3:55',
                        cover: 'https://i.pinimg.com/736x/e1/d8/37/e1d837f583ddc85852f262b90648cb4b.jpg',
                        audio: 'songs/Deva/Ele-Elanguyile-MassTamilan.fm.mp3'

                    },
                    {
                        title: 'Endhan Rajadhi Mass',
                        artist: 'Deva',
                        album: 'Endhan Rajadhi Mass',
                        duration: '4:15',
                        cover: 'https://i.pinimg.com/736x/e1/d8/37/e1d837f583ddc85852f262b90648cb4b.jpg',
                        audio: 'songs/Deva/Endhan-Rajadhi-MassTamilan.io.mp3'
                    },
                    {
                        title: 'Enna Idhu Vayasu Mass',
                        artist: 'Deva',
                        album: 'Enna Idhu Vayasu Mass',
                        duration: '4:05',
                        cover: 'https://i.pinimg.com/736x/e1/d8/37/e1d837f583ddc85852f262b90648cb4b.jpg',
                        audio: 'songs/Deva/Enna-Idhu-Vayasu-MassTamilan.com.mp3'
                    },
                    {
                        title: 'French Classile',
                        artist: 'Deva',
                        album: 'French Classile',
                        duration: '3:40',
                        cover: 'https://i.pinimg.com/736x/e1/d8/37/e1d837f583ddc85852f262b90648cb4b.jpg',
                        audio: 'songs/Deva/French-Classile-MassTamilan.com.mp3'
                    },
                    {
                        title: 'Hip Hip',
                        artist: 'Deva',
                        album: 'Hip Hip',
                        duration: '4:20',
                        cover: 'https://i.pinimg.com/736x/e1/d8/37/e1d837f583ddc85852f262b90648cb4b.jpg',
                        audio: 'songs/Deva/Hip-Hip-MassTamilan.com.mp33'
                    },
                    {
                        title: 'I Love You',
                        artist: 'Deva',
                        album: 'I Love You',
                        duration: '4:00',
                        cover: 'https://i.pinimg.com/736x/e1/d8/37/e1d837f583ddc85852f262b90648cb4b.jpg',
                        audio: 'songs/Deva/I-Love-You.mp3'
                    },
                    {
                        title: 'Kaadhal Kiligale',
                        artist: 'Deva',
                        album: 'Kaadhal Kiligale',
                        duration: '3:55',
                        cover: 'https://i.pinimg.com/736x/e1/d8/37/e1d837f583ddc85852f262b90648cb4b.jpg',
                        audio: 'songs/Deva/Kaadhal-Kiligale-MassTamilan.fm.mp3'
                    },
                    {
                        title: 'Karthigai Mass',
                        artist: 'Deva',
                        album: 'Karthigai Mass',
                        duration: '4:10',
                        cover: 'https://i.pinimg.com/736x/e1/d8/37/e1d837f583ddc85852f262b90648cb4b.jpg',
                        audio: 'songs/Deva/Karthigai-MassTamilan.com.mp3'
                    },
                    {
                        title: 'Karu Karu Karupayi',
                        artist: 'Deva',
                        album: 'Karu Karu Karupayi',
                        duration: '4:25',
                        cover: 'https://i.pinimg.com/736x/e1/d8/37/e1d837f583ddc85852f262b90648cb4b.jpg',
                        audio: 'songs/Deva/Karu-Karu-Karupayi-MassTamilan.dev.mp3'
                    },
                    {
                        title: 'Kondayil Thaazham Poo',
                        artist: 'Deva',
                        album: 'Kondayil Thaazham Poo',
                        duration: '3:50',
                        cover: 'https://i.pinimg.com/736x/e1/d8/37/e1d837f583ddc85852f262b90648cb4b.jpg',
                        audio: 'songs/Deva/Kondayil-Thaazham-Poo.mp3'
                    }
                ]
            };

        let currentSong = null;
        let currentSongIndex = 0;
        let currentArtist = '';
        let isPlaying = false;
        let currentUser = null;
        let repeatMode = 'off';
        let shuffleMode = false;
        let originalPlaylist = [];
        let shuffledPlaylist = [];
        let searchTimeout = null;
        let queue = [];

        // Initialize application
        document.addEventListener('DOMContentLoaded', () => {
            checkLoginStatus();
            setupEventListeners();
            populateSongLists();
            loadLikedSongs();
            setupKeyboardShortcuts();
            setupAudioPlayer();
            updateQueueDisplay();
        });

        function checkLoginStatus() {
            currentUser = JSON.parse(localStorage.getItem('galexUser'));
            if (currentUser) {
                updateUIForLoggedInUser();
            }
        }

        function updateUIForLoggedInUser() {
            loginBtn.style.display = 'none';
            logoutBtn.style.display = 'block';
            verifyIcon.style.display = 'block';
            galexText.textContent = `Hi, ${currentUser.username}`;
            galexText.style.color = '#6495ed';
        }

        function setupAudioPlayer() {
            const savedVolume = localStorage.getItem('galexVolume');
            audioPlayer.volume = savedVolume ? parseFloat(savedVolume) : 0.7;
            updateVolumeProgress(audioPlayer.volume);
            updateVolumeIcon(audioPlayer.volume);

            // Add error handling for audio
            audioPlayer.addEventListener('error', (e) => {
                console.error('Audio error:', e);
                showNotification('Error loading audio. Please try another song.');
                document.querySelector('.play-btn').innerHTML = '<i class="fas fa-play"></i>';
                document.getElementById('playerCover').classList.remove('playing');
                isPlaying = false;
            });
        }

        function setupEventListeners() {
            // Login/Signup
            loginBtn.onclick = () => {
                account.classList.add('show');
                loginDiv.classList.add('show');
                signupDiv.classList.remove('show');
                mainplayer.style.opacity = '0.3';
                mainplayer.style.pointerEvents = 'none';
            };

            document.getElementById('showSignup').onclick = (e) => {
                e.preventDefault();
                loginDiv.classList.remove('show');
                signupDiv.classList.add('show');
            };

            document.getElementById('showLogin').onclick = (e) => {
                e.preventDefault();
                signupDiv.classList.remove('show');
                loginDiv.classList.add('show');
            };

            // Logout
            logoutBtn.onclick = () => {
                localStorage.removeItem('galexUser');
                currentUser = null;
                loginBtn.style.display = 'block';
                logoutBtn.style.display = 'none';
                verifyIcon.style.display = 'none';
                galexText.textContent = 'Galex';
                galexText.style.color = '#fff';
                showHomePage();
                showNotification('Logged out successfully');
            };

            // Close account modal when clicking outside
            account.onclick = (e) => {
                if (e.target === account) {
                    closeAccountModal();
                }
            };

            // Close modal with Escape key
            document.addEventListener('keydown', (e) => {
                if (e.key === 'Escape' && account.classList.contains('show')) {
                    closeAccountModal();
                }
            });

            // Signup
            document.getElementById('signupSubmit').onclick = () => {
                const user = {
                    username: document.getElementById('signupUsername').value.trim(),
                    email: document.getElementById('signupEmail').value.trim().toLowerCase(),
                    password: document.getElementById('signupPassword').value
                };

                if (!user.username || !user.email || !user.password) {
                    showNotification('Please fill all fields');
                    return;
                }

                if (user.password.length < 6) {
                    showNotification('Password must be at least 6 characters');
                    return;
                }

                // Simple email validation
                const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
                if (!emailRegex.test(user.email)) {
                    showNotification('Please enter a valid email address');
                    return;
                }

                const existingUser = localStorage.getItem('galexUser');
                if (existingUser) {
                    const parsedUser = JSON.parse(existingUser);
                    if (parsedUser.email === user.email) {
                        showNotification('Email already registered. Please login.');
                        return;
                    }
                }

                user.likedSongs = [];
                localStorage.setItem('galexUser', JSON.stringify(user));
                showNotification('Account created successfully! Please login.');
                signupDiv.classList.remove('show');
                loginDiv.classList.add('show');
            };

            // Login
            document.getElementById('loginSubmit').onclick = () => {
                const savedUser = JSON.parse(localStorage.getItem('galexUser'));
                const email = document.getElementById('loginEmail').value.trim().toLowerCase();
                const password = document.getElementById('loginPassword').value;

                if (!email || !password) {
                    showNotification('Please fill all fields');
                    return;
                }

                if (!savedUser) {
                    showNotification('No account found. Please sign up first.');
                    return;
                }

                if (email === savedUser.email && password === savedUser.password) {
                    currentUser = savedUser;
                    closeAccountModal();
                    updateUIForLoggedInUser();
                    loadLikedSongs();
                    showNotification(`Welcome back, ${currentUser.username}!`);
                } else {
                    showNotification('Invalid email or password');
                }
            };

            // Artist selection
            document.getElementById('hiphopadhi').onclick = () => showArtistSongs('hiphopadhi');
            document.getElementById('GVPrakash').onclick = () => showArtistSongs('GVPrakash');
            document.getElementById('vijayantony').onclick = () => showArtistSongs('vijayantony');
            document.getElementById('Deva').onclick = () => showArtistSongs('Deva');

            // Navigation buttons
            likedPlaylistBtn.onclick = () => {
                if (!currentUser) {
                    showNotification('Please login to view liked songs');
                    return;
                }
                showLikedSongs();
            };

            homeBtn.onclick = showHomePage;

            // Back button
            backBtn.onclick = showHomePage;

            // Player controls
            document.querySelector('.play-btn').onclick = togglePlay;
            document.querySelector('.prev-btn').onclick = playPrev;
            document.querySelector('.next-btn').onclick = playNext;

            // Repeat and Shuffle
            repeatBtn.onclick = toggleRepeat;
            shuffleBtn.onclick = toggleShuffle;

            // Progress bar
            document.getElementById('progressBar').onclick = (e) => {
                const rect = e.target.getBoundingClientRect();
                const percent = (e.clientX - rect.left) / rect.width;
                if (audioPlayer.duration) {
                    audioPlayer.currentTime = percent * audioPlayer.duration;
                }
            };

            // Volume control
            document.getElementById('volumeSlider').onclick = (e) => {
                const rect = e.target.getBoundingClientRect();
                const percent = (e.clientX - rect.left) / rect.width;
                const volume = Math.max(0, Math.min(1, percent));
                audioPlayer.volume = volume;
                localStorage.setItem('galexVolume', volume);
                updateVolumeProgress(volume);
                updateVolumeIcon(volume);
            };

            // Volume icon click to mute/unmute
            volumeIcon.onclick = () => {
                if (audioPlayer.volume > 0) {
                    localStorage.setItem('lastVolume', audioPlayer.volume);
                    audioPlayer.volume = 0;
                    updateVolumeProgress(0);
                    updateVolumeIcon(0);
                } else {
                    const lastVolume = localStorage.getItem('lastVolume') || 0.7;
                    audioPlayer.volume = parseFloat(lastVolume);
                    localStorage.setItem('galexVolume', audioPlayer.volume);
                    updateVolumeProgress(audioPlayer.volume);
                    updateVolumeIcon(audioPlayer.volume);
                }
            };

            // Search functionality
            searchInput.addEventListener('input', (e) => {
                clearTimeout(searchTimeout);
                searchTimeout = setTimeout(() => {
                    handleSearch(e.target.value);
                }, 300);
            });

            searchInput.addEventListener('focus', () => {
                if (searchInput.value.trim()) {
                    handleSearch(searchInput.value);
                }
            });

            // Close search results when clicking outside
            document.addEventListener('click', (e) => {
                if (!searchInput.contains(e.target) && !searchResults.contains(e.target)) {
                    searchResults.classList.remove('active');
                }
            });

            // Audio events
            audioPlayer.addEventListener('timeupdate', updateProgress);
            audioPlayer.addEventListener('loadedmetadata', updateDuration);
            audioPlayer.addEventListener('ended', handleSongEnd);
            audioPlayer.addEventListener('play', () => {
                isPlaying = true;
                document.querySelector('.play-btn').innerHTML = '<i class="fas fa-pause"></i>';
                document.getElementById('playerCover').classList.add('playing');
            });
            audioPlayer.addEventListener('pause', () => {
                isPlaying = false;
                document.querySelector('.play-btn').innerHTML = '<i class="fas fa-play"></i>';
                document.getElementById('playerCover').classList.remove('playing');
            });
        }

        function handleSongEnd() {
            switch (repeatMode) {
                case 'one':
                    audioPlayer.currentTime = 0;
                    audioPlayer.play().catch(e => console.error('Play error:', e));
                    break;
                case 'all':
                    playNext();
                    break;
                default:
                    isPlaying = false;
                    document.querySelector('.play-btn').innerHTML = '<i class="fas fa-play"></i>';
                    document.getElementById('playerCover').classList.remove('playing');
                    break;
            }
        }

        function toggleRepeat() {
            const modes = ['off', 'one', 'all'];
            const currentIndex = modes.indexOf(repeatMode);
            repeatMode = modes[(currentIndex + 1) % modes.length];

            repeatBtn.classList.toggle('active', repeatMode !== 'off');

            const icon = repeatBtn.querySelector('i');
            if (repeatMode === 'one') {
                icon.className = 'fas fa-redo-alt';
                repeatBtn.title = 'Repeat One';
            } else if (repeatMode === 'all') {
                icon.className = 'fas fa-redo';
                repeatBtn.title = 'Repeat All';
            } else {
                icon.className = 'fas fa-redo';
                repeatBtn.title = 'Repeat Off';
            }

            showNotification(`Repeat: ${repeatMode}`);
        }

        function toggleShuffle() {
            shuffleMode = !shuffleMode;
            shuffleBtn.classList.toggle('active', shuffleMode);
            shuffleBtn.title = shuffleMode ? 'Shuffle: On' : 'Shuffle: Off';
            showNotification(shuffleMode ? 'Shuffle: On' : 'Shuffle: Off');

            if (shuffleMode && currentArtist) {
                createShuffledPlaylist();
                updateQueueDisplay();
            } else if (!shuffleMode) {
                updateQueueDisplay();
            }
        }

        function createShuffledPlaylist() {
            if (!currentArtist) return;

            originalPlaylist = [...songsData[currentArtist]];
            shuffledPlaylist = [...originalPlaylist];

            // Fisher-Yates shuffle
            for (let i = shuffledPlaylist.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [shuffledPlaylist[i], shuffledPlaylist[j]] = [shuffledPlaylist[j], shuffledPlaylist[i]];
            }

            // Find current song index in shuffled playlist
            if (currentSong) {
                const currentIndex = shuffledPlaylist.findIndex(
                    song => song.title === currentSong.title && song.artist === currentSong.artist
                );
                if (currentIndex > -1) {
                    // Move current song to the beginning
                    const [current] = shuffledPlaylist.splice(currentIndex, 1);
                    shuffledPlaylist.unshift(current);
                    currentSongIndex = 0;
                }
            }
        }

        function updateVolumeIcon(volume) {
            const icon = volumeIcon.querySelector('i');
            if (volume === 0) {
                icon.className = 'fas fa-volume-mute';
            } else if (volume < 0.3) {
                icon.className = 'fas fa-volume-off';
            } else if (volume < 0.7) {
                icon.className = 'fas fa-volume-down';
            } else {
                icon.className = 'fas fa-volume-up';
            }
        }

        function updateVolumeProgress(volume) {
            document.getElementById('volumeProgress').style.width = (volume * 100) + '%';
        }

        function updateQueueDisplay() {
            queueList.innerHTML = '';

            if (!currentArtist) {
                queueList.innerHTML = '<div style="padding: 10px; color: #b0b0d0; text-align: center;">No songs in queue</div>';
                return;
            }

            const songs = shuffleMode && shuffledPlaylist.length ? shuffledPlaylist : songsData[currentArtist];
            const startIndex = currentSongIndex + 1;
            const endIndex = Math.min(startIndex + 3, songs.length);

            if (startIndex >= songs.length) {
                queueList.innerHTML = '<div style="padding: 10px; color: #b0b0d0; text-align: center;">End of queue</div>';
                return;
            }

            for (let i = startIndex; i < endIndex; i++) {
                const song = songs[i];
                const queueItem = document.createElement('li');
                queueItem.className = 'queue-item';
                queueItem.onclick = () => playSong(currentArtist, i);

                queueItem.innerHTML = `
                    <img src="${song.cover}" alt="${song.title}" class="queue-item-cover">
                    <div class="queue-item-info">
                        <div class="queue-item-title">${song.title}</div>
                        <div class="queue-item-artist">${song.artist}</div>
                    </div>
                `;

                queueList.appendChild(queueItem);
            }

            if (queueList.children.length === 0) {
                queueList.innerHTML = '<div style="padding: 10px; color: #b0b0d0; text-align: center;">End of queue</div>';
            }
        }

        function handleSearch(query) {
            const searchTerm = query.toLowerCase().trim();
            searchResults.innerHTML = '';

            if (!searchTerm) {
                searchResults.classList.remove('active');
                return;
            }

            searchResults.classList.add('active');
            let hasResults = false;

            Object.keys(songsData).forEach(artistId => {
                songsData[artistId].forEach((song, index) => {
                    if (song.title.toLowerCase().includes(searchTerm) ||
                        song.artist.toLowerCase().includes(searchTerm) ||
                        song.album.toLowerCase().includes(searchTerm)) {

                        hasResults = true;
                        const resultItem = document.createElement('div');
                        resultItem.className = 'search-result-item';
                        resultItem.onclick = () => {
                            playSong(artistId, index);
                            searchResults.classList.remove('active');
                            searchInput.value = '';
                        };

                        resultItem.innerHTML = `
                            <img src="${song.cover}" alt="${song.title}" style="width: 40px; height: 40px; border-radius: 5px;">
                            <div style="min-width: 0;">
                                <div style="font-weight: 600; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;">${song.title}</div>
                                <div style="font-size: 12px; color: #b0b0d0;">${song.artist}  ${song.album}</div>
                            </div>
                        `;

                        searchResults.appendChild(resultItem);
                    }
                });
            });

            if (!hasResults) {
                searchResults.innerHTML = '<div style="padding: 20px; text-align: center; color: #b0b0d0;">No results found</div>';
            }
        }

        function showNotification(message) {
            notificationText.textContent = message;
            notification.classList.add('show');

            setTimeout(() => {
                notification.classList.remove('show');
            }, 3000);
        }

        function closeAccountModal() {
            account.classList.remove('show');
            mainplayer.style.opacity = '1';
            mainplayer.style.pointerEvents = 'auto';
            document.getElementById('loginEmail').value = '';
            document.getElementById('loginPassword').value = '';
            document.getElementById('signupUsername').value = '';
            document.getElementById('signupEmail').value = '';
            document.getElementById('signupPassword').value = '';
        }

        function showArtistSongs(artistId) {
            artistContainer.style.display = 'none';
            likedSongsContainer.classList.remove('active');
            backBtn.style.display = 'flex';
            document.getElementById('currentSection').textContent = getArtistName(artistId);

            document.querySelectorAll('.songs-container').forEach(container => {
                container.classList.remove('active');
                if (container.id === artistId + 'songs') {
                    container.classList.add('active');
                }
            });
        }

        function showLikedSongs() {
            artistContainer.style.display = 'none';
            document.querySelectorAll('.songs-container').forEach(container => {
                container.classList.remove('active');
            });
            likedSongsContainer.classList.add('active');
            backBtn.style.display = 'flex';
            document.getElementById('currentSection').textContent = 'Liked Songs';
            displayLikedSongs();
        }

        function showHomePage() {
            artistContainer.style.display = 'grid';
            document.querySelectorAll('.songs-container').forEach(container => {
                container.classList.remove('active');
            });
            likedSongsContainer.classList.remove('active');
            backBtn.style.display = 'none';
            document.getElementById('currentSection').textContent = 'Featured Artists';
            searchResults.classList.remove('active');
            searchInput.value = '';
        }

        function getArtistName(artistId) {
            const names = {
                'hiphopadhi': 'Hiphop Adhi',
                'GVPrakash': 'GV Prakash',
                'vijayantony': 'Vijay Antony',
                'Deva': 'Deva'
            };
            return names[artistId] || artistId;
        }

        function populateSongLists() {
            Object.keys(songsData).forEach(artistId => {
                const container = document.getElementById(artistId + 'songs');
                if (!container) return;

                const songList = container.querySelector('.song-list');
                songList.innerHTML = '';

                songsData[artistId].forEach((song, index) => {
                    const li = document.createElement('li');
                    li.className = 'song-item';
                    li.dataset.index = index;
                    li.dataset.artist = artistId;
                    li.onclick = () => playSong(artistId, index);

                    const isLiked = currentUser && currentUser.likedSongs &&
                        currentUser.likedSongs.some(s => s.title === song.title && s.artist === song.artist);

                    li.innerHTML = `
                        <div class="song-number">${index + 1}</div>
                        <img src="${song.cover}" alt="${song.title}" class="song-cover">
                        <div class="song-info">
                            <div class="song-title">${song.title}</div>
                            <div class="song-details">${song.album}  ${song.duration}  ${song.artist}</div>
                        </div>
                        <button class="like-btn ${isLiked ? 'liked' : ''}" onclick="toggleLikeSong('${artistId}', ${index}, event)">
                            ${isLiked ? '' : ''}
                        </button>
                    `;

                    songList.appendChild(li);
                });
            });
        }

        function toggleLikeSong(artistId, songIndex, event) {
            event.stopPropagation();

            if (!currentUser) {
                showNotification('Please login to like songs');
                return;
            }

            const song = songsData[artistId][songIndex];
            const likeBtn = event.target.closest('.like-btn');

            if (!currentUser.likedSongs) {
                currentUser.likedSongs = [];
            }

            const songIndexInLiked = currentUser.likedSongs.findIndex(
                s => s.title === song.title && s.artist === song.artist
            );

            if (songIndexInLiked === -1) {
                currentUser.likedSongs.push({
                    ...song,
                    originalArtist: artistId,
                    originalIndex: songIndex
                });
                likeBtn.classList.add('liked');
                likeBtn.innerHTML = '';
                likeBtn.style.animation = 'pulse 0.3s ease';
                setTimeout(() => likeBtn.style.animation = '', 300);
                showNotification(`Added "${song.title}" to liked songs`);
            } else {
                currentUser.likedSongs.splice(songIndexInLiked, 1);
                likeBtn.classList.remove('liked');
                likeBtn.innerHTML = '';
                showNotification(`Removed "${song.title}" from liked songs`);
            }

            localStorage.setItem('galexUser', JSON.stringify(currentUser));

            if (likedSongsContainer.classList.contains('active')) {
                displayLikedSongs();
            }
        }

        function loadLikedSongs() {
            if (currentUser && currentUser.likedSongs) {
                Object.keys(songsData).forEach(artistId => {
                    songsData[artistId].forEach((song, index) => {
                        const isLiked = currentUser.likedSongs.some(s => s.title === song.title && s.artist === song.artist);
                        const songElement = document.querySelector(`.song-item[data-artist="${artistId}"][data-index="${index}"]`);
                        if (songElement) {
                            const likeBtn = songElement.querySelector('.like-btn');
                            if (likeBtn) {
                                likeBtn.classList.toggle('liked', isLiked);
                                likeBtn.innerHTML = isLiked ? '' : '';
                            }
                        }
                    });
                });
            }
        }

        function displayLikedSongs() {
            likedSongsList.innerHTML = '';

            if (!currentUser || !currentUser.likedSongs || currentUser.likedSongs.length === 0) {
                emptyLiked.style.display = 'block';
                return;
            }

            emptyLiked.style.display = 'none';

            currentUser.likedSongs.forEach((song, index) => {
                const li = document.createElement('li');
                li.className = 'song-item';
                li.onclick = () => {
                    const artist = song.originalArtist;
                    const songIndex = song.originalIndex;
                    if (artist && songIndex !== undefined) {
                        playSong(artist, songIndex);
                    }
                };

                li.innerHTML = `
                    <div class="song-number">${index + 1}</div>
                    <img src="${song.cover}" alt="${song.title}" class="song-cover">
                    <div class="song-info">
                        <div class="song-title">${song.title}</div>
                        <div class="song-details">${song.album}  ${song.duration}  ${song.artist}</div>
                    </div>
                    <button class="like-btn liked" onclick="removeFromLiked('${song.title}', '${song.artist}', event)">
                        
                    </button>
                `;

                likedSongsList.appendChild(li);
            });
        }

        function removeFromLiked(songTitle, songArtist, event) {
            event.stopPropagation();

            if (!currentUser || !currentUser.likedSongs) return;

            currentUser.likedSongs = currentUser.likedSongs.filter(
                s => !(s.title === songTitle && s.artist === songArtist)
            );

            localStorage.setItem('galexUser', JSON.stringify(currentUser));
            displayLikedSongs();
            showNotification(`Removed "${songTitle}" from liked songs`);

            Object.keys(songsData).forEach(artistId => {
                songsData[artistId].forEach((song, index) => {
                    if (song.title === songTitle && song.artist === songArtist) {
                        const songElement = document.querySelector(`.song-item[data-artist="${artistId}"][data-index="${index}"]`);
                        if (songElement) {
                            const likeBtn = songElement.querySelector('.like-btn');
                            likeBtn.classList.remove('liked');
                            likeBtn.innerHTML = '';
                        }
                    }
                });
            });
        }

        function playSong(artistId, songIndex) {
            const songs = shuffleMode && shuffledPlaylist.length ? shuffledPlaylist : songsData[artistId];
            const song = songs[songIndex];

            currentSong = song;
            currentSongIndex = songIndex;
            currentArtist = artistId;

            document.getElementById('playerTitle').textContent = song.title;
            document.getElementById('playerArtist').textContent = `${song.artist}  ${song.album}`;
            document.getElementById('playerCover').src = song.cover;

            document.querySelector('.play-btn').innerHTML = '<div class="loading"></div>';

            audioPlayer.src = song.audio;

            playerContainer.classList.remove('hidden');
            updateQueueDisplay();

            audioPlayer.play().then(() => {
                document.querySelector('.play-btn').innerHTML = '<i class="fas fa-pause"></i>';
                document.getElementById('playerCover').classList.add('playing');
            }).catch(e => {
                console.error('Play error:', e);
                showNotification('Error playing audio. Please try again.');
                document.querySelector('.play-btn').innerHTML = '<i class="fas fa-play"></i>';
                document.getElementById('playerCover').classList.remove('playing');
            });

            document.querySelectorAll('.song-item').forEach(item => {
                item.classList.remove('active');
            });

            const activeSong = document.querySelector(`.song-item[data-artist="${artistId}"][data-index="${songIndex}"]`);
            if (activeSong) activeSong.classList.add('active');
        }

        function togglePlay() {
            if (!currentSong) {
                const firstArtist = Object.keys(songsData)[0];
                if (firstArtist && songsData[firstArtist].length > 0) {
                    playSong(firstArtist, 0);
                }
                return;
            }

            if (isPlaying) {
                audioPlayer.pause();
            } else {
                audioPlayer.play().catch(e => {
                    console.error('Play error:', e);
                    showNotification('Error playing audio');
                });
            }
        }

        function playPrev() {
            if (!currentArtist) return;

            const songs = shuffleMode && shuffledPlaylist.length ? shuffledPlaylist : songsData[currentArtist];
            currentSongIndex = (currentSongIndex - 1 + songs.length) % songs.length;
            playSong(currentArtist, currentSongIndex);
        }

        function playNext() {
            if (!currentArtist) return;

            const songs = shuffleMode && shuffledPlaylist.length ? shuffledPlaylist : songsData[currentArtist];
            currentSongIndex = (currentSongIndex + 1) % songs.length;
            playSong(currentArtist, currentSongIndex);
        }

        function updateProgress() {
            if (!audioPlayer.duration || isNaN(audioPlayer.duration)) return;

            const percent = (audioPlayer.currentTime / audioPlayer.duration) * 100;
            document.getElementById('progress').style.width = percent + '%';

            document.getElementById('currentTime').textContent = formatTime(audioPlayer.currentTime);
        }

        function updateDuration() {
            if (!isNaN(audioPlayer.duration)) {
                document.getElementById('duration').textContent = formatTime(audioPlayer.duration);
            }
        }

        function formatTime(seconds) {
            if (isNaN(seconds)) return '0:00';
            const mins = Math.floor(seconds / 60);
            const secs = Math.floor(seconds % 60);
            return `${mins}:${secs.toString().padStart(2, '0')}`;
        }

        function setupKeyboardShortcuts() {
            document.addEventListener('keydown', (e) => {
                if (e.target.matches('input, textarea, [contenteditable="true"]')) return;

                switch (e.key) {
                    case ' ':
                        e.preventDefault();
                        togglePlay();
                        break;
                    case 'ArrowLeft':
                        e.preventDefault();
                        playPrev();
                        break;
                    case 'ArrowRight':
                        e.preventDefault();
                        playNext();
                        break;
                    case 'm':
                    case 'M':
                        e.preventDefault();
                        volumeIcon.click();
                        break;
                    case 'l':
                    case 'L':
                        e.preventDefault();
                        if (currentSong) {
                            toggleCurrentSongLike();
                        }
                        break;
                    case 'Escape':
                        if (searchResults.classList.contains('active')) {
                            searchResults.classList.remove('active');
                            searchInput.value = '';
                        }
                        break;
                }
            });
        }

        function toggleCurrentSongLike() {
            if (!currentUser || !currentSong || !currentArtist) return;

            const songs = shuffleMode && shuffledPlaylist.length ? shuffledPlaylist : songsData[currentArtist];
            const songIndex = songs.findIndex(
                song => song.title === currentSong.title && song.artist === currentSong.artist
            );

            if (songIndex !== -1) {
                const songElement = document.querySelector(`.song-item[data-artist="${currentArtist}"][data-index="${songIndex}"]`);
                if (songElement) {
                    const likeBtn = songElement.querySelector('.like-btn');
                    const fakeEvent = {
                        target: likeBtn,
                        stopPropagation: () => { }
                    };
                    toggleLikeSong(currentArtist, songIndex, fakeEvent);
                }
            }
        }

        // Make functions available globally
        window.toggleLikeSong = toggleLikeSong;
        window.removeFromLiked = removeFromLiked;
    </script>
</body>

</html>
